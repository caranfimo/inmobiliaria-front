<div *ngIf="percentage | async as pct">
  {{ file.name }}
  <mat-progress-bar mode="determinate" [value]="pct"></mat-progress-bar>
  {{ pct | number }}%
</div>

<div *ngIf="!percentage">
  <mat-progress-bar mode="determinate" value="0"></mat-progress-bar>
</div>

<div *ngIf="snapshot | async as snap">
  <div *ngIf="downloadURL as url" class="row justify-content-center">
    <h3>Resultados!</h3>
    <img [src]="url">
    <br>
  </div> 
  <button (click)="task.pause()" mat-stroked-button color="primary" [disabled]="!isActive(snap)">Pause</button>
  <button (click)="task.cancel()" mat-stroked-button color="warn" [disabled]="!isActive(snap)">Cancel</button>
  <button (click)="task.resume()" mat-stroked-button color="accent" [disabled]="!(snap?.state === 'paused')">Resume</button>
</div>